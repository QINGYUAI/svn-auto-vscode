# SVN/Git 自动提交插件 - 菜单功能说明

## 🎯 菜单集成概览

插件现在已经完全集成到 VSCode 的各个菜单系统中，提供便捷的图标化操作体验。

## 📋 菜单位置和功能

### 1. **命令面板** (`Ctrl+Shift+P`)
所有插件命令都可以通过命令面板访问：

| 命令 | 图标 | 功能描述 |
|------|------|----------|
| `SVN/Git 自动提交: 提交更改` | `$(git-commit)` | 提交当前更改 |
| `SVN/Git 自动提交: 启用/禁用自动提交` | `$(sync-ignored)` | 切换自动提交状态 |
| `SVN/Git 自动提交: 更新/拉取` | `$(sync)` | 从远程更新代码 |
| `SVN/Git 自动提交: 查看历史` | `$(history)` | 查看提交历史 |
| `SVN/Git 自动提交: 显示操作菜单` | `$(menu)` | 显示快捷操作菜单 |
| `SVN/Git 自动提交: 显示分支信息` | `$(git-branch)` | 显示当前分支信息 |
| `SVN/Git 自动提交: 解决冲突` | `$(diff)` | 解决版本冲突 |
| `SVN/Git 自动提交: 打开设置` | `$(gear)` | 打开插件设置 |

### 2. **文件资源管理器右键菜单**
在文件资源管理器中右键文件或文件夹时显示：

#### 📁 文件夹右键菜单
- `$(git-commit) 提交更改` - 提交当前文件夹的更改
- `$(sync) 更新/拉取` - 更新当前文件夹
- `$(menu) 显示操作菜单` - 显示完整操作菜单

#### 📄 文件右键菜单
- `$(git-commit) 提交更改` - 提交当前文件
- `$(sync) 更新/拉取` - 更新当前文件
- `$(history) 查看历史` - 查看文件提交历史

### 3. **编辑器右键菜单**
在编辑器中右键时显示：

- `$(git-commit) 提交更改` - 提交当前文件
- `$(history) 查看历史` - 查看当前文件历史
- `$(diff) 解决冲突` - 解决当前文件冲突

### 4. **编辑器标题栏**
在编辑器标题栏右侧显示图标按钮：

- `$(git-commit)` - 快速提交当前文件
- `$(sync)` - 快速更新当前文件
- `$(history)` - 查看当前文件历史

### 5. **编辑器标题栏右键菜单**
右键点击编辑器标题栏时显示：

- `$(git-commit) 提交更改` - 提交当前文件
- `$(history) 查看历史` - 查看文件历史

### 6. **源代码管理面板**
在 SCM (Source Control Management) 面板标题栏显示：

- `$(git-commit)` - 执行提交操作
- `$(sync)` - 执行更新/拉取操作
- `$(sync-ignored)` - 切换自动提交状态

### 7. **视图标题栏**
在源代码管理视图中显示：

- `$(menu)` - 显示操作菜单
- `$(gear)` - 打开插件设置

## 🎨 图标说明

### 图标含义
| 图标 | 含义 | 使用场景 |
|------|------|----------|
| `$(git-commit)` | Git 提交 | 提交相关操作 |
| `$(sync)` | 同步 | 更新/拉取操作 |
| `$(sync-ignored)` | 同步忽略 | 自动提交切换 |
| `$(history)` | 历史记录 | 查看历史操作 |
| `$(menu)` | 菜单 | 显示操作菜单 |
| `$(git-branch)` | Git 分支 | 分支相关操作 |
| `$(diff)` | 差异比较 | 冲突解决操作 |
| `$(gear)` | 设置齿轮 | 配置和设置 |

### 图标颜色和状态
- **正常状态**: 默认主题颜色
- **激活状态**: 高亮显示
- **禁用状态**: 灰色显示

## 🔧 菜单条件显示

### 智能显示逻辑
插件使用 VSCode 的 `when` 条件来智能显示菜单项：

#### 文件资源管理器
```json
"when": "explorerResourceIsFolder || !explorerResourceIsRoot"
```
- 在文件夹或非根目录文件上显示

#### 编辑器上下文
```json
"when": "editorTextFocus"
```
- 仅在编辑器获得焦点时显示

#### 源代码管理视图
```json
"when": "view == workbench.scm"
```
- 仅在源代码管理视图中显示

## 🚀 使用建议

### 1. **快速操作**
- 使用编辑器标题栏图标进行快速操作
- 右键菜单提供上下文相关的操作

### 2. **批量操作**
- 在文件夹上右键进行批量操作
- 使用源代码管理面板进行全局操作

### 3. **文件级操作**
- 在单个文件上右键进行精确操作
- 编辑器内右键提供文件相关功能

### 4. **快捷访问**
- 命令面板提供完整功能访问
- 状态栏提供常用功能快捷方式

## 📱 用户体验优化

### 1. **一致性**
- 所有菜单使用统一的图标和命名
- 保持操作逻辑的一致性

### 2. **可发现性**
- 图标直观易懂
- 菜单项按重要性排序

### 3. **上下文相关**
- 根据当前环境智能显示相关功能
- 避免不相关的菜单项干扰

### 4. **快捷操作**
- 常用功能放在易访问的位置
- 提供多种访问方式

## 🎯 功能演示

### 典型使用场景

#### 场景1: 快速提交单个文件
1. 在编辑器中编辑文件
2. 点击编辑器标题栏的 `$(git-commit)` 图标
3. 选择要提交的文件
4. 输入提交信息并确认

#### 场景2: 批量操作文件夹
1. 在文件资源管理器中右键文件夹
2. 选择 `$(git-commit) 提交更改`
3. 选择要提交的文件
4. 完成批量提交

#### 场景3: 查看文件历史
1. 在编辑器中右键
2. 选择 `$(history) 查看历史`
3. 在输出面板查看历史记录

#### 场景4: 解决冲突
1. 在有冲突的文件上右键
2. 选择 `$(diff) 解决冲突`
3. 选择解决方式
4. 完成冲突解决

## 🔮 未来扩展

### 计划中的菜单功能
- **工作区级菜单**: 在工作区根目录提供全局操作
- **状态相关菜单**: 根据文件状态显示不同操作
- **团队协作菜单**: 添加团队协作相关功能
- **自定义菜单**: 允许用户自定义菜单项

---

## 📝 总结

通过完整的菜单集成，插件现在提供了：

✅ **全面的菜单覆盖**: 覆盖 VSCode 的所有主要菜单位置  
✅ **直观的图标系统**: 使用标准 VSCode 图标，易于理解  
✅ **智能的显示逻辑**: 根据上下文智能显示相关功能  
✅ **一致的用户体验**: 统一的操作逻辑和视觉设计  
✅ **便捷的快捷操作**: 多种访问方式，提高操作效率  

用户现在可以通过多种方式访问插件功能，享受更加便捷和直观的版本控制体验！
