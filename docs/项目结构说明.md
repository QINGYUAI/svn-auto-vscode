# 项目结构说明

本文档说明了 SVN/Git 自动提交插件的项目结构，帮助开发者快速了解项目组织方式。

## 📁 目录结构

```
svn-auto-vscode/
├── src/                    # 源代码目录
│   ├── extension.ts       # 插件入口文件
│   ├── vcsManager.ts      # 版本控制系统管理器
│   ├── configManager.ts   # 配置管理器
│   ├── commandManager.ts  # 命令管理器
│   ├── statusBarManager.ts # 状态栏管理器
│   ├── autoCommitManager.ts # 自动提交管理器
│   ├── commitTemplateManager.ts # 提交模板管理器
│   ├── providers/         # VCS提供者实现
│   │   ├── vcsProvider.ts # VCS提供者接口
│   │   ├── svnProvider.ts # SVN提供者实现
│   │   └── gitProvider.ts # Git提供者实现
│   └── test/              # 测试文件
│       ├── extension.test.ts
│       ├── runTest.ts
│       └── suite/
│           └── index.ts
│
├── docs/                   # 文档目录
│   ├── 项目结构说明.md    # 本文件
│   ├── 中文化说明.md      # 中文化完成情况说明
│   ├── 使用文档.md        # 详细使用文档
│   ├── 快速入门.md        # 快速入门指南
│   ├── 故障排除指南.md    # 常见问题解决方案
│   ├── 菜单功能说明.md    # 菜单功能详细说明
│   ├── 发布更新文档.md    # 发布和更新相关文档
│   ├── 需求.md            # 需求文档
│   └── test-fix.md        # 测试修复相关文档
│
├── scripts/                # 脚本目录
│   ├── install.sh         # 安装脚本
│   ├── install-and-test.sh # 安装和测试脚本
│   └── test-commands.js   # 命令测试脚本
│
├── examples/                # 示例目录
│   └── 配置示例.json      # 配置示例文件
│
├── release/                 # 发布目录（已忽略）
│   └── *.vsix             # 打包后的插件文件
│
├── dist/                    # 编译输出目录（已忽略）
│   ├── extension.js       # 编译后的主文件
│   └── extension.js.map   # Source Map文件
│
├── node_modules/           # 依赖包目录（已忽略）
│
├── package.json            # 项目配置文件
├── tsconfig.json           # TypeScript配置
├── webpack.config.js       # Webpack打包配置
├── .gitignore             # Git忽略文件配置
├── .vscodeignore          # VSCode打包忽略配置
├── README.md              # 项目说明文档
├── CHANGELOG.md           # 更新日志
├── LICENSE                # 许可证文件
├── INSTALL_DEBUG.md       # 安装调试说明
├── icon.png               # 插件图标（PNG）
└── icon.svg               # 插件图标（SVG）
```

## 📂 目录说明

### `src/` - 源代码目录
包含所有TypeScript源代码文件，是项目的核心代码所在。

- **extension.ts**: 插件的主入口文件，负责插件激活和初始化
- **vcsManager.ts**: 版本控制系统管理器，统一管理SVN和Git操作
- **configManager.ts**: 配置管理器，处理所有配置项的读取和更新
- **commandManager.ts**: 命令管理器，注册和处理所有VSCode命令
- **statusBarManager.ts**: 状态栏管理器，管理状态栏显示和交互
- **autoCommitManager.ts**: 自动提交管理器，实现自动提交功能
- **commitTemplateManager.ts**: 提交模板管理器，处理提交信息模板
- **providers/**: VCS提供者实现目录
  - 使用策略模式实现不同VCS的操作
  - 统一的接口设计，便于扩展

### `docs/` - 文档目录
包含所有项目文档，包括使用说明、开发文档等。

### `scripts/` - 脚本目录
包含开发和部署相关的脚本文件。

### `examples/` - 示例目录
包含配置示例和其他示例文件。

### `release/` - 发布目录
存放打包后的插件文件（.vsix），此目录已被.gitignore忽略。

### `dist/` - 编译输出目录
Webpack编译后的输出文件，此目录已被.gitignore忽略。

## 🔧 核心模块说明

### 1. VCSManager（版本控制系统管理器）
- 负责检测项目使用的版本控制系统（SVN/Git）
- 提供统一的VCS操作接口
- 管理VCS提供者的创建和切换

### 2. ConfigManager（配置管理器）
- 读取和更新VSCode配置
- 提供配置变更监听
- 处理配置的默认值和验证

### 3. CommandManager（命令管理器）
- 注册所有VSCode命令
- 处理命令的执行逻辑
- 管理命令的上下文和权限

### 4. StatusBarManager（状态栏管理器）
- 创建和管理状态栏项
- 更新状态栏显示内容
- 处理状态栏点击事件

### 5. AutoCommitManager（自动提交管理器）
- 监控文件变更
- 实现延迟提交机制
- 处理自动提交逻辑

### 6. CommitTemplateManager（提交模板管理器）
- 处理提交信息模板
- 支持变量替换
- 验证提交信息格式

## 📝 文件命名规范

- **TypeScript文件**: 使用驼峰命名法（camelCase），如 `configManager.ts`
- **测试文件**: 使用 `.test.ts` 后缀，如 `extension.test.ts`
- **文档文件**: 使用中文名称，如 `使用文档.md`
- **配置文件**: 使用标准命名，如 `package.json`, `tsconfig.json`

## 🚀 开发流程

1. **修改源代码**: 在 `src/` 目录下修改或添加代码
2. **编译代码**: 运行 `npm run compile` 或 `npm run watch`
3. **运行测试**: 运行 `npm test` 执行测试
4. **打包插件**: 运行 `npm run package` 生成.vsix文件
5. **发布插件**: 将.vsix文件上传到VSCode Marketplace

## 📚 相关文档

- [使用文档](./使用文档.md) - 详细的功能使用说明
- [快速入门](./快速入门.md) - 快速上手指南
- [故障排除指南](./故障排除指南.md) - 常见问题解决方案
- [中文化说明](./中文化说明.md) - 中文化完成情况

## 🔄 文件整理历史

- **2025-11-20**: 完成项目文件整理
  - 创建 `docs/` 目录，整理所有文档文件
  - 创建 `scripts/` 目录，整理脚本文件
  - 创建 `examples/` 目录，整理配置示例
  - 创建 `release/` 目录，整理打包文件
  - 更新 `.gitignore` 配置

